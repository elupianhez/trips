<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script> L_NO_TOUCH = false; L_DISABLE_3D = false; </script>

    <style>html, body {width:100%;height:100%;margin:0;padding:0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>

    <!-- Leaflet -->
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css"/>

    <!-- Cluster -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/leaflet.markercluster.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.Default.css"/>

    <!-- Awesome Markers -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"/>

    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
    <style>
        #map_7a9a1cdd5e212d282580cfcf10c463c9 { width:100%; height:100%; }
        .fit-bounds-btn {
          position: absolute; top: 10%; left: 10px; z-index:1000;
          background:#fff; border:1px solid #ccc; padding:6px 12px;
          cursor:pointer; border-radius:4px; font-size:14px;
        }
    </style>
</head>
<body>
<div id="map_7a9a1cdd5e212d282580cfcf10c463c9"></div>
<div class="fit-bounds-btn" onclick="map.fitBounds(allMarkers.getBounds())">
    üìç Mostrar todas as paradas
</div>
</body>

<script>
    var map = L.map("map_7a9a1cdd5e212d282580cfcf10c463c9", {
      center: [25.1208, -80.4065], zoom: 9
    });

    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
      attribution: 'Data ¬© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'
    }).addTo(map);

    var allMarkers = L.featureGroup().addTo(map);
    var cluster = L.markerClusterGroup();
    map.addLayer(cluster);

    // √çcones personalizados
    var foodIcon = L.AwesomeMarkers.icon({ icon: 'cutlery', prefix: 'fa', markerColor: 'orange' });
    var funIcon  = L.AwesomeMarkers.icon({ icon: 'star', prefix: 'fa', markerColor: 'blue' });
    var sunsetIcon = L.AwesomeMarkers.icon({ icon: 'sun-o', prefix: 'fa', markerColor: 'ffaf17' });

    // Fun√ß√£o helper
    function add(name, lat, lng, url, category){
      var icon = (category==="food") ? foodIcon : (category==="sunset" ? sunsetIcon : funIcon);
      var marker = L.marker([lat,lng], {icon: icon});
      var html = '<div style="min-width:160px"><strong>'+name+'</strong>' + (url ? ('<br><a href="'+url+'" target="_blank">Abrir site</a>') : '') + '</div>';
      marker.bindPopup(html);
      cluster.addLayer(marker);
      allMarkers.addLayer(marker);
    }

    // Pontos
    add("Spray Watersports", 25.1208, -80.4065, "https://spraywatersports.com","fun");
    add("Mrs. Mac's Kitchen", 25.1313, -80.4145, "https://www.mrsmacskitchen.com/","food");
    add("Jimmy Johnson‚Äôs Big Chill", 25.1471, -80.3765, "https://www.jjsbigchill.com/","sunset");
    add("John Pennekamp Park", 25.1234, -80.4068, null,"fun");
    add("Robbie‚Äôs of Islamorada", 24.9203, -80.6274, "https://www.robbies.com/","fun");
    add("Seven Mile Bridge", 24.7057, -81.1242,null,"fun");
    add("Duval Street, Key West", 24.5551, -81.8016,null,"fun");
    add("Mallory Square", 24.5592, -81.8080,null,"sunset");
    add("Rain Barrel Village", 24.9785, -80.5481,"https://rainbarrelvillage.com/","fun");
    add("Lorelei Restaurant", 24.9252, -80.6279,"https://www.loreleicabanabar.com/","food");
    add("Tiki Bar at Postcard Inn", 24.9267, -80.6266,null,"food");
    add("Lazy Lobster Seafood Restaurant", 25.1232, -80.4029,"https://lazy-lobster.com/","food");

    // Novos
    add("Hog Heaven Sports Bar & Grill", 24.951016, -80.59102,"https://hogheavenbarandgrill.com/","food");
    add("Southernmost Point Buoy", 24.546506, -81.797487,null,"fun");
    add("El Siboney Restaurant", 24.55211, -81.79283,"https://www.elsiboneyrestaurant.com/","food");
    add("Sloppy Joe‚Äôs", 24.55906, -81.80503,"https://sloppyjoes.com/","food");
    add("Islamorada Brewery & Distillery", 24.924294, -80.627836,"http://www.islamoradabreweryanddistillery.com/","food");

</script>
</html>