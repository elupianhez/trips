<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script> L_NO_TOUCH = false; L_DISABLE_3D = false; </script>

    <style>html, body {width:100%;height:100%;margin:0;padding:0;}</style>
    <style>#map_759a590034a644dcab8f4c3d67238a90 {position:relative;width:100%;height:100%;left:0;top:0;}</style>

    <!-- Leaflet -->
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css"/>

    <!-- jQuery / Bootstrap (compat√≠vel com seu arquivo) -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css"/>

    <!-- Awesome Markers -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>

    <!-- MarkerCluster -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/leaflet.markercluster.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.Default.css"/>

    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>

    <style>
        .fit-bounds-btn{
          position:absolute;top:10px;left:10px;z-index:1000;
          background:#fff;border:1px solid #ccc;padding:6px 10px;border-radius:4px;cursor:pointer
        }
        .legend{
          position:absolute;bottom:12px;left:10px;z-index:1000;
          background:#fff;border:1px solid #ccc;padding:8px 10px;border-radius:4px;font-size:13px;line-height:1.6
        }
        .legend i{margin-right:6px;}
    </style>
</head>
<body>
<div class="folium-map" id="map_759a590034a644dcab8f4c3d67238a90"></div>
<div class="fit-bounds-btn" onclick="map.fitBounds(allMarkers.getBounds())">üìç Mostrar tudo</div>
<div class="legend">
    <div><i class="fa fa-star" style="color:#fff;background:#3498DB;padding:3px 5px;border-radius:3px"></i> Parques & Atra√ß√µes</div>
    <div><i class="fa fa-shopping-cart" style="color:#fff;background:#5F9EA0;padding:3px 5px;border-radius:3px"></i> Compras & Lojas</div>
    <div><i class="fa fa-cutlery" style="color:#fff;background:#F39C12;padding:3px 5px;border-radius:3px"></i> Restaurantes & Bares</div>
    <div><i class="fa fa-glass" style="color:#fff;background:#8E44AD;padding:3px 5px;border-radius:3px"></i> Entretenimento</div>
    <div><i class="fa fa-wrench" style="color:#fff;background:#4A235A;padding:3px 5px;border-radius:3px"></i> Em constru√ß√£o</div>
</div>
</body>

<script>
    // Mapa
    var map = L.map("map_759a590034a644dcab8f4c3d67238a90", {
      center: [28.4743, -81.4678],
      crs: L.CRS.EPSG3857,
      zoom: 10,
      zoomControl: true,
      preferCanvas: false,
    });

    // Tiles
    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
      attribution: 'Data by &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',
      maxZoom: 18
    }).addTo(map);

    // Grupos
    var allMarkers = L.featureGroup().addTo(map);
    var cluster = L.markerClusterGroup({});
    map.addLayer(cluster);

    // √çcones por categoria
    var ICONS = {
      park:        L.AwesomeMarkers.icon({ icon:'star',          prefix:'fa', markerColor:'blue'      }),
      shopping:    L.AwesomeMarkers.icon({ icon:'shopping-cart', prefix:'fa', markerColor:'cadetblue' }),
      food:        L.AwesomeMarkers.icon({ icon:'cutlery',       prefix:'fa', markerColor:'orange'    }),
      fun:         L.AwesomeMarkers.icon({ icon:'glass',         prefix:'fa', markerColor:'purple'    }),
      construction:L.AwesomeMarkers.icon({ icon:'wrench',        prefix:'fa', markerColor:'darkpurple'})
    };

    function add(name, lat, lng, category){
      var icon = ICONS[category] || ICONS.park;
      var marker = L.marker([lat,lng], {icon});
      marker.bindPopup('<div style="min-width:180px"><strong>'+name+'</strong></div>');
      cluster.addLayer(marker);
      allMarkers.addLayer(marker);
    }

    // --- Pontos com categorias ---
    // Parques & Atra√ß√µes
    add("Universal Studios Florida", 28.474321, -81.467819, "park");
    add("Islands of Adventure", 28.471649, -81.473839, "park");
    add("SeaWorld Orlando", 28.4118, -81.4621, "park");
    add("Busch Gardens Tampa", 28.0381, -82.4193, "park");

    // Em constru√ß√£o
    add("Epic Universe (em constru√ß√£o)", 28.4292, -81.4025, "construction");

    // Compras & Lojas
    add("Orlando Int‚Äôl Premium Outlets", 28.4891, -81.4515, "shopping");
    add("Vineland Premium Outlets", 28.3802, -81.4893, "shopping");
    add("Mall at Millenia", 28.4886, -81.4307, "shopping");
    add("The Loop Kissimmee", 28.3375, -81.4761, "shopping");
    add("BestBuy Sand Lake", 28.4436, -81.4708, "shopping");
    add("Target Vineland", 28.3835, -81.4925, "shopping");
    add("Sephora Millenia", 28.4872, -81.4309, "shopping");

    // Restaurantes & Bares
    add("Maxine's on Shine", 28.5456, -81.3626, "food");
    add("The Cheesecake Factory (Millenia)", 28.4881, -81.4305, "food");
    add("Sixty Vines (Winter Park)", 28.5986, -81.3532, "food");
    add("The Boathouse (Disney Springs)", 28.3704, -81.5166, "food");
    add("Wine Bar George (Disney Springs)", 28.3712, -81.5153, "food");
    add("Canvas Restaurant & Market", 28.3689, -81.2476, "food");
    add("Thelma‚Äôs Table", 28.5679, -81.5864, "food");

    // Entretenimento (complexo)
    add("Disney Springs", 28.3715, -81.5153, "fun");

    // Enquadramento inicial
    if (allMarkers.getLayers().length) {
      map.fitBounds(allMarkers.getBounds(), {padding:[30,30]});
    }
</script>
</html>